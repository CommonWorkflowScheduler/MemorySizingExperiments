<!--
  ~ Copyright 2013-2023, Seqera Labs
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~     http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->
<html>
<head>
<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1, maximum-scale=1">
</head>
<body>
<pre class="mermaid" style="text-align: center;">
flowchart TB
    subgraph " "
    v0["Channel.from"]
    v12["Channel.from"]
    v25["save_trimmed_fail"]
    v26["save_merged"]
    v34["ch_host_fasta"]
    v43["ch_phix_db_file"]
    v63["ch_nanolyse_db"]
    v80["ch_centrifuge_db_file"]
    v88["ch_kraken2_db_file"]
    v141["output_format"]
    v244["busco_download_folder"]
    v309["proteins"]
    v310["prodigal_tf"]
    v332["Channel.from"]
    v334["ch_workflow_summary"]
    end
    subgraph " "
    v3[" "]
    v20[" "]
    v22[" "]
    v28[" "]
    v29[" "]
    v30[" "]
    v31[" "]
    v36[" "]
    v40[" "]
    v45[" "]
    v47[" "]
    v48[" "]
    v52[" "]
    v55[" "]
    v56[" "]
    v57[" "]
    v65[" "]
    v76[" "]
    v77[" "]
    v78[" "]
    v79[" "]
    v82[" "]
    v84[" "]
    v85[" "]
    v90[" "]
    v92[" "]
    v96[" "]
    v101[" "]
    v107[" "]
    v108[" "]
    v115[" "]
    v116[" "]
    v117[" "]
    v118[" "]
    v128[" "]
    v129[" "]
    v130[" "]
    v131[" "]
    v143[" "]
    v144[" "]
    v145[" "]
    v146[" "]
    v156[" "]
    v181[" "]
    v182[" "]
    v183[" "]
    v190[" "]
    v191[" "]
    v192[" "]
    v193[" "]
    v194[" "]
    v195[" "]
    v203[" "]
    v204[" "]
    v226[" "]
    v234["bins_gz"]
    v248[" "]
    v249[" "]
    v250[" "]
    v251[" "]
    v252[" "]
    v253[" "]
    v258[" "]
    v259[" "]
    v260[" "]
    v271[" "]
    v278[" "]
    v284[" "]
    v289[" "]
    v292[" "]
    v293[" "]
    v294[" "]
    v295[" "]
    v296[" "]
    v297[" "]
    v305[" "]
    v306[" "]
    v312[" "]
    v313[" "]
    v314[" "]
    v315[" "]
    v316[" "]
    v317[" "]
    v318[" "]
    v319[" "]
    v320[" "]
    v321[" "]
    v322[" "]
    v323[" "]
    v329[" "]
    v330[" "]
    v361[" "]
    v362[" "]
    v364[" "]
    v366["ch_versions"]
    end
    subgraph NFCORE_MAG
    subgraph MAG
    v21([FASTQC_RAW])
    v27([FASTP])
    v35([BOWTIE2_HOST_REMOVAL_BUILD])
    v39([BOWTIE2_HOST_REMOVAL_ALIGN])
    v44([BOWTIE2_PHIX_REMOVAL_BUILD])
    v46([BOWTIE2_PHIX_REMOVAL_ALIGN])
    v51([FASTQC_TRIMMED])
    v54([NANOPLOT_RAW])
    v60([PORECHOP])
    v64([NANOLYSE])
    v72([FILTLONG])
    v75([NANOPLOT_FILTERED])
    v81([CENTRIFUGE_DB_PREPARATION])
    v83([CENTRIFUGE])
    v89([KRAKEN2_DB_PREPARATION])
    v91([KRAKEN2])
    v95([KRONA_DB])
    v100([KRONA])
    v106([MEGAHIT])
    v114([SPADES])
    v127([SPADESHYBRID])
    v138([QUAST])
    v142([PRODIGAL])
    subgraph BINNING_PREPARATION
    v155([BOWTIE2_ASSEMBLY_BUILD])
    v161([BOWTIE2_ASSEMBLY_ALIGN])
    v157(( ))
    v162(( ))
    v164(( ))
    end
    subgraph BINNING
    v167([METABAT2_JGISUMMARIZEBAMCONTIGDEPTHS])
    v174([CONVERT_DEPTHS])
    v180([METABAT2_METABAT2])
    v189([MAXBIN2])
    v196([ADJUST_MAXBIN2_EXT])
    v202([SPLIT_FASTA])
    v207([GUNZIP_BINS])
    v210([GUNZIP_UNBINS])
    v220([MAG_DEPTHS])
    v225([MAG_DEPTHS_PLOT])
    v229([MAG_DEPTHS_SUMMARY])
    v175(( ))
    v184(( ))
    v186(( ))
    v201(( ))
    v205(( ))
    v213(( ))
    v223(( ))
    v227(( ))
    v232(( ))
    end
    subgraph BUSCO_QC
    v247([BUSCO])
    v257([BUSCO_PLOT])
    v270([BUSCO_SUMMARY])
    v242(( ))
    v245(( ))
    v254(( ))
    v261(( ))
    v264(( ))
    v267(( ))
    v272(( ))
    v273(( ))
    v301(( ))
    end
    v283([QUAST_BINS])
    v288([QUAST_BINS_SUMMARY])
    v291([CAT])
    v304([BIN_SUMMARY])
    v311([PROKKA])
    v328([CUSTOM_DUMPSOFTWAREVERSIONS])
    v360([MULTIQC])
    v13(( ))
    v23(( ))
    v68(( ))
    v97(( ))
    v99(( ))
    v104(( ))
    v109(( ))
    v113(( ))
    v222(( ))
    v287(( ))
    v302(( ))
    v303(( ))
    v333(( ))
    v340(( ))
    v344(( ))
    v346(( ))
    v348(( ))
    v350(( ))
    v352(( ))
    v363(( ))
    end
    end
    v1(( ))
    v0 --> v1
    v1 --> v3
    v12 --> v13
    v13 --> v20
    v13 --> v21
    v21 --> v22
    v21 --> v23
    v21 --> v346
    v25 --> v27
    v26 --> v27
    v13 --> v27
    v27 --> v39
    v27 --> v31
    v27 --> v30
    v27 --> v29
    v27 --> v28
    v27 --> v23
    v27 --> v340
    v34 --> v35
    v35 --> v39
    v35 --> v36
    v39 --> v46
    v39 --> v40
    v39 --> v23
    v39 --> v350
    v43 --> v44
    v44 --> v46
    v44 --> v45
    v46 --> v51
    v46 --> v48
    v46 --> v47
    v46 --> v83
    v46 --> v91
    v46 --> v114
    v46 --> v23
    v46 --> v68
    v46 --> v104
    v46 --> v113
    v46 --> v157
    v46 --> v222
    v51 --> v52
    v51 --> v23
    v51 --> v348
    v13 --> v54
    v54 --> v57
    v54 --> v56
    v54 --> v55
    v54 --> v23
    v13 --> v60
    v60 --> v64
    v60 --> v23
    v63 --> v64
    v64 --> v65
    v64 --> v23
    v64 --> v68
    v68 --> v72
    v72 --> v75
    v72 --> v23
    v72 --> v113
    v75 --> v79
    v75 --> v78
    v75 --> v77
    v75 --> v76
    v80 --> v81
    v81 --> v83
    v81 --> v82
    v83 --> v85
    v83 --> v84
    v83 --> v23
    v83 --> v97
    v88 --> v89
    v89 --> v91
    v89 --> v90
    v91 --> v92
    v91 --> v23
    v91 --> v97
    v95 --> v96
    v95 --> v99
    v97 --> v100
    v99 --> v100
    v100 --> v101
    v100 --> v23
    v104 --> v106
    v106 --> v108
    v106 --> v107
    v106 --> v23
    v106 --> v109
    v114 --> v118
    v114 --> v117
    v114 --> v116
    v114 --> v115
    v114 --> v23
    v114 --> v109
    v113 --> v127
    v127 --> v131
    v127 --> v130
    v127 --> v129
    v127 --> v128
    v127 --> v23
    v127 --> v109
    v109 --> v138
    v138 --> v23
    v138 --> v352
    v141 --> v142
    v109 --> v142
    v142 --> v146
    v142 --> v145
    v142 --> v144
    v142 --> v143
    v142 --> v23
    v109 --> v155
    v155 --> v156
    v155 --> v157
    v157 --> v161
    v161 --> v23
    v161 --> v162
    v161 --> v164
    v162 --> v167
    v167 --> v23
    v167 --> v162
    v167 --> v213
    v162 --> v174
    v174 --> v23
    v174 --> v175
    v162 --> v180
    v180 --> v183
    v180 --> v182
    v180 --> v181
    v180 --> v23
    v180 --> v184
    v180 --> v186
    v180 --> v201
    v175 --> v189
    v189 --> v196
    v189 --> v195
    v189 --> v194
    v189 --> v193
    v189 --> v192
    v189 --> v191
    v189 --> v190
    v189 --> v23
    v189 --> v201
    v196 --> v184
    v196 --> v186
    v201 --> v202
    v202 --> v204
    v202 --> v203
    v202 --> v23
    v202 --> v205
    v184 --> v207
    v207 --> v23
    v207 --> v213
    v207 --> v232
    v205 --> v210
    v210 --> v23
    v210 --> v213
    v210 --> v232
    v213 --> v220
    v220 --> v23
    v220 --> v223
    v220 --> v227
    v222 --> v225
    v223 --> v225
    v225 --> v226
    v225 --> v23
    v227 --> v229
    v229 --> v304
    v229 --> v23
    v186 --> v234
    v244 --> v245
    v232 --> v247
    v242 --> v247
    v245 --> v247
    v247 --> v253
    v247 --> v252
    v247 --> v251
    v247 --> v250
    v247 --> v249
    v247 --> v248
    v247 --> v23
    v247 --> v254
    v247 --> v261
    v247 --> v264
    v247 --> v267
    v247 --> v272
    v247 --> v273
    v254 --> v257
    v257 --> v260
    v257 --> v259
    v257 --> v258
    v261 --> v270
    v264 --> v270
    v267 --> v270
    v270 --> v271
    v270 --> v301
    v272 --> v278
    v232 --> v283
    v283 --> v284
    v283 --> v23
    v283 --> v287
    v287 --> v288
    v288 --> v289
    v288 --> v302
    v232 --> v291
    v291 --> v297
    v291 --> v296
    v291 --> v295
    v291 --> v294
    v291 --> v293
    v291 --> v292
    v291 --> v23
    v301 --> v304
    v302 --> v304
    v303 --> v304
    v304 --> v306
    v304 --> v305
    v309 --> v311
    v310 --> v311
    v232 --> v311
    v311 --> v323
    v311 --> v322
    v311 --> v321
    v311 --> v320
    v311 --> v319
    v311 --> v318
    v311 --> v317
    v311 --> v316
    v311 --> v315
    v311 --> v314
    v311 --> v313
    v311 --> v312
    v311 --> v23
    v23 --> v328
    v328 --> v330
    v328 --> v329
    v328 --> v333
    v332 --> v333
    v334 --> v333
    v164 --> v360
    v273 --> v360
    v333 --> v360
    v340 --> v360
    v344 --> v360
    v346 --> v360
    v348 --> v360
    v350 --> v360
    v352 --> v360
    v360 --> v362
    v360 --> v361
    v360 --> v23
    v360 --> v363
    v363 --> v364
    v23 --> v366

</pre>
<script type="module">
  import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
  mermaid.initialize({ startOnLoad: true });
</script>
</body>
</html>
